<!doctype html>
<html>
<head>
    <title>Correlation & Linear Regression Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div id="app">

    <p v-if="filedata.length < 2">
        <label class="abutton">
            Select {{2 - filedata.length}} Data File
            <input id="inputFile" type="file" multiple="multiple" v-on:change="fileChangeHandler">
        </label>
    </p>

    <h2 v-if="filedata.length > 0">Data List:</h2>
    <table v-if="filedata.length > 0">
        <tr v-for="(onefile, index) in filedata" v-bind:key="onefile.fileId">
            <td aligh="right">{{ onefile.fileName }}</td>
            <td>{{ onefile.dataList.join(', ') }}</td>
            <td><a v-on:click="removeFile(onefile.fileId)">Remove</a></td>
        </tr>
    </table>

    <div v-if="filedata.length === 2" id="result">
        <label class="abutton" v-if="result === null">
            Calculate
            <input type="button" v-on:click="calculate">
        </label>
        <div v-if="result !== null">
            <h2>Result:</h2>
            <table>
                <tr>
                    <th>File1</th>
                    <th>File2</th>
                    <th>Correlation</th>
                    <th>LR beta 0</th>
                    <th>LR beta 1</th>
                </tr>
                <tr>
                    <td>{{ result.file1 }}</td>
                    <td>{{ result.file2 }}</td>
                    <td>{{ result.squareR }}</td>
                    <td>{{ result.beta0 }}</td>
                    <td>{{ result.beta1 }}</td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script src="model/MathLib.mjs"></script>
<script src="model/Correlation.mjs"></script>
<script src="model/LinearRegression.mjs"></script>
<script src="controller/Controller-Vue.js"></script>
</body>
</html>